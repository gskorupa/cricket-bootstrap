{
    "@type": "org.cricketmsf.config.ConfigSet",
    "description": "This is sample configuration",
    "services": [
        {
            "@type": "org.cricketmsf.config.Configuration",
            "id": "SignomixService",
            "service": "com.signomix.Service",
            "properties": {
                "host": "0.0.0.0",
                "port": "8080",
                "ssl": "false",
                "keystore": "./data/cricket_publickeystore.jks",
                "keystore-password": "cricket15$#17",
                "threads": 0,
                "filter": "org.cricketmsf.microsite.auth.SecurityFilter",
                "cors": "Access-Control-Allow-Origin:*|Access-Control-Allow-Credentials:true|Access-Control-Allow-Methods: POST, GET, OPTIONS, DELETE, PUT|Access-Control-Allow-Headers: Authentication, Authorization, Origin, X-Requested-With, Content-Type, Accept, Accept-Language, Content-Language|Access-Control-Max-Age: 1728000",
                "time-zone": "GMT",
                "default-language": "en",
                "user-confirm": "true",
                "initial-admin-email": "name@host",
                "initial-admin-secret": "test123",
                "admin-notification-email": "name@host",
                "restricted-resources": "DELETE@/api/auth PUT@/api/auth GET@/api/user PUT@/api/user DELETE@/api/user *@/api/iot *@/api/cm *@/api/dashboard *@/api/alert *@/api/system *@/api/actuator",
                "file.upload.maxsize": "5000000",
                "backup-folder": "./data/backup",
                "backup-daily": "true",
                "serviceurl": "http://localhost:8080",
                "SRVC_NAME_ENV_VARIABLE": "SIGNOMIX_ENVIRONMENT_NAME",
                "SRVC_URL_ENV_VARIABLE": "SIGNOMIX_URL"
            },
            "adapters": {
                "echo": {
                    "name": "echo",
                    "interfaceName": "EchoHttpAdapterIface",
                    "classFullName": "org.cricketmsf.in.http.EchoHttpAdapter",
                    "properties": {
                        "context": "/api/echo",
                        "silent-mode": "false"
                    }
                },
                "UserService": {
                    "name": "UserService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "org.cricketmsf.microsite.in.http.UserApi",
                    "properties": {
                        "context": "/api/user",
                        "silent-mode": "false"
                    }
                },
                "RecoveryService": {
                    "name": "RecoveryService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "org.cricketmsf.microsite.in.http.UserApi",
                    "properties": {
                        "context": "/api/recover",
                        "silent-mode": "false"
                    }
                },
                "AuthService": {
                    "name": "AuthService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "org.cricketmsf.microsite.in.http.AuthApi",
                    "properties": {
                        "context": "/api/auth",
                        "silent-mode": "false"
                    }
                },
                "ConfirmationService": {
                    "name": "ConfirmationService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "com.signomix.in.http.ConfirmationApi",
                    "properties": {
                        "context": "/api/confirm",
                        "silent-mode": "false"
                    }
                },
                "ContentManager": {
                    "name": "ContentManager",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "org.cricketmsf.microsite.in.http.ContentApi",
                    "properties": {
                        "context": "/api/cm",
                        "silent-mode": "false"
                    }
                },
                "ContentService": {
                    "name": "ContentService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "org.cricketmsf.microsite.in.http.ContentApi",
                    "properties": {
                        "context": "/api/cs",
                        "silent-mode": "false"
                    }
                },
                "ThingsService": {
                    "name": "ThingsService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "com.signomix.in.http.ThingsApi",
                    "properties": {
                        "context": "/api/iot",
                        "silent-mode": "false"
                    }
                },
                "IntegrationService": {
                    "name": "IntegrationService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "com.signomix.in.http.IntegrationApi",
                    "properties": {
                        "context": "/api/integration",
                        "silent-mode": "false",
                        "dump-request": "true"
                    }
                },
                "RawIntegrationService": {
                    "name": "RawIntegrationService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "com.signomix.in.http.IntegrationApi",
                    "properties": {
                        "context": "/api/raw",
                        "header-name": "HTTP_SENSOR",
                        "silent-mode": "false",
                        "dump-request": "true"
                    }
                },
                "TtnIntegrationService": {
                    "name": "TtnIntegrationService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "com.signomix.in.http.TtnApi",
                    "properties": {
                        "context": "/api/ttn",
                        "silent-mode": "false",
                        "dump-request": "true",
                        "authorization-required": "false"
                    }
                },
                "DashboardService": {
                    "name": "DashboardService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "com.signomix.in.http.DashboardApi",
                    "properties": {
                        "context": "/api/dashboard",
                        "silent-mode": "false"
                    }
                },
                "AlertService": {
                    "name": "AlertService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "com.signomix.in.http.AlertApi",
                    "properties": {
                        "context": "/api/alert",
                        "silent-mode": "false"
                    }
                },
                "SystemService": {
                    "name": "SystemService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "com.signomix.in.http.SystemApi",
                    "properties": {
                        "context": "/api/system",
                        "silent-mode": "false"
                    }
                },
                "LoRaUplinkService": {
                    "name": "LoRaUplinkService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "com.signomix.in.http.LoRaApi",
                    "properties": {
                        "context": "/api/lora/uplink",
                        "silent-mode": "false",
                        "dump-request": "true"
                    }
                },
                "LoRaJoinService": {
                    "name": "LoRaJoinService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "com.signomix.in.http.LoRaApi",
                    "properties": {
                        "context": "/api/lora/join",
                        "silent-mode": "false"
                    }
                },
                "LoRaAckService": {
                    "name": "LoRaAckService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "com.signomix.in.http.LoRaApi",
                    "properties": {
                        "context": "/api/lora/ack",
                        "silent-mode": "false"
                    }
                },
                "LoRaErrorService": {
                    "name": "LoRaErrorService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "com.signomix.in.http.LoRaApi",
                    "properties": {
                        "context": "/api/lora/error",
                        "silent-mode": "false"
                    }
                },
                "KpnUplinkService": {
                    "name": "KpnUplinkService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "com.signomix.in.http.KpnApi",
                    "properties": {
                        "context": "/api/kpn/uplink",
                        "silent-mode": "false",
                        "dump-request": "true"
                    }
                },
                "ActuatorService": {
                    "name": "ActuatorService",
                    "interfaceName": "HttpAdapterIface",
                    "classFullName": "com.signomix.in.http.ActuatorApi",
                    "properties": {
                        "context": "/api/actuator",
                        "silent-mode": "false"
                    }
                },
                "logger": {
                    "name": "logger",
                    "interfaceName": "LoggerAdapterIface",
                    "classFullName": "org.cricketmsf.out.log.StandardLogger",
                    "properties": {
                        "name": "Signomix",
                        "level": "FINEST",
                        "log-file-name": "./log/cricket%g.log",
                        "max-size": "1000000",
                        "count": "10",
                        "console": "true"
                    }
                },
                "GdprLogger": {
                    "name": "GdprLogger",
                    "interfaceName": "LoggerAdapterIface",
                    "classFullName": "org.cricketmsf.out.log.FileLogger",
                    "properties": {
                        "name": "Signomix",
                        "log-file-name": "./log/gdpr.log"
                    }
                },
                "database": {
                    "name": "database",
                    "interfaceName": "KeyValueDBIface",
                    "classFullName": "org.cricketmsf.out.db.KeyValueDB",
                    "description": "DB storing users, web cache, platform config/limits, tokens",
                    "properties": {
                        "path": "./data",
                        "name": "local"
                    }
                },
                "queueDB": {
                    "name": "queueDB",
                    "interfaceName": "KeyValueDBIface",
                    "classFullName": "org.cricketmsf.out.db.KeyValueDB",
                    "properties": {
                        "path": "./data",
                        "name": "queue"
                    }
                },
                "iotDB": {
                    "name": "iotDB",
                    "interfaceName": "IotDatabaseIface",
                    "classFullName": "com.signomix.out.db.H2IotDB",
                    "properties": {
                        "path": "./data",
                        "name": "iot",
                        "file": "iot",
                        "test-query": "select * from serviceversion",
                        "version": "3",
                        "user": "sa",
                        "password": "",
                        "time-offset": "3600"
                    }
                },
                "iotDataDB": {
                    "name": "iotDataDB",
                    "interfaceName": "IotDataStorageIface",
                    "classFullName": "com.signomix.out.db.H2DataStorageDB",
                    "properties": {
                        "path": "./data",
                        "name": "data",
                        "file": "data",
                        "test-query": "select * from serviceversion",
                        "version": "2",
                        "user": "sa",
                        "password": "",
                        "requestLimit": "200"
                    }
                },
                "actuatorCommandsDB": {
                    "name": "actuatorCommandsDB",
                    "interfaceName": "ActuatorCommandsDBIface",
                    "classFullName": "com.signomix.out.db.H2CommandsDB",
                    "properties": {
                        "path": "./data",
                        "file": "actuator",
                        "test-query": "select * from serviceversion",
                        "version": "1",
                        "name": "auth",
                        "user": "sa",
                        "password": ""
                    }
                },
                "scheduler": {
                    "name": "scheduler",
                    "interfaceName": "SchedulerIface",
                    "classFullName": "org.cricketmsf.in.scheduler.Scheduler",
                    "properties": {
                        "path": "./data",
                        "envVariable": "SCHEDULER_DB_PATH",
                        "file": "scheduler.xml",
                        "init":"Data2,SYSTEM,EVENT,CHECK_DEVICES,*1m,_|_;Data1,SYSTEM,EVENT,CLEAR_DATA,*1m,_|_;EV2,EC1COUNTER,EVENT,COMMAND,17:40:00 GMT|*24h,{\"value\":\"0\"};EV3,EC1,EVENT,BACKUP,21:40:00 GMT|*24h,_"
                    }
                },
                "FileReader": {
                    "name": "FileReader",
                    "interfaceName": "FileReaderAdapterIface",
                    "classFullName": "org.cricketmsf.out.file.FileReaderAdapter",
                    "properties": {
                        "root": "./www/",
                        "index-file": "index.html"
                    }
                },
                "CMS": {
                    "name": "CMS",
                    "interfaceName": "HtmlGenAdapterIface",
                    "classFullName": "org.cricketmsf.in.http.HtmlGenAdapter",
                    "properties": {
                        "context": "/cms",
                        "use-cache": "true",
                        "page-processor": "true"
                    }
                },
                "WwwService": {
                    "name": "WwwService",
                    "interfaceName": "HtmlGenAdapterIface",
                    "classFullName": "org.cricketmsf.in.http.HtmlGenAdapter",
                    "properties": {
                        "context": "/",
                        "use-cache": "true",
                        "page-processor": "true"
                    }
                },
                "userAdapter": {
                    "name": "userAdapter",
                    "interfaceName": "UserAdapterIface",
                    "classFullName": "org.cricketmsf.microsite.out.user.UserEmbededAdapter",
                    "properties": {
                        "helper-name": "userDB"
                    }
                },
                "authAdapter": {
                    "name": "authAdapter",
                    "interfaceName": "AuthAdapterIface",
                    "classFullName": "org.cricketmsf.microsite.out.auth.AuthEmbededAdapter",
                    "properties": {
                        "helper-name": "authDB",
                        "helper-name-2": "userAdapter",
                        "token-timeout": "600"
                    }
                },
                "cmsDB": {
                    "name": "cmsDB",
                    "interfaceName": "SqlDBIface",
                    "classFullName": "org.cricketmsf.microsite.out.db.H2CmsDB",
                    "properties": {
                        "path": "./data",
                        "file": "cms",
                        "test-query": "select * from serviceversion",
                        "version": "1",
                        "name": "content",
                        "user": "sa",
                        "password": ""
                    }
                },
                "userDB": {
                    "name": "userDB",
                    "interfaceName": "SqlDBIface",
                    "classFullName": "org.cricketmsf.out.db.H2UserDB",
                    "properties": {
                        "path": "./data",
                        "file": "user",
                        "test-query": "select * from serviceversion",
                        "version": "2",
                        "encrypted": "false",
                        "filePassword":"",
                        "name": "user",
                        "user": "sa",
                        "password": ""
                    }
                },
                "authDB": {
                    "name": "authDB",
                    "interfaceName": "SqlDBIface",
                    "classFullName": "org.cricketmsf.microsite.out.db.H2AuthDB",
                    "properties": {
                        "path": "./data",
                        "file": "auth",
                        "test-query": "select * from serviceversion",
                        "version": "1",
                        "name": "auth",
                        "user": "sa",
                        "password": ""
                    }
                },
                "cms": {
                    "name": "cms",
                    "interfaceName": "CmsIface",
                    "classFullName": "org.cricketmsf.microsite.cms.CmsEmbededAdapter",
                    "properties": {
                        "helper-name": "cmsDB",
                        "root-path": "./www/",
                        "file-path": "./files/",
                        "file-path-published": "./assets/",
                        "index-file": "index.html"
                    }
                },
                "queueAdapter": {
                    "name": "queueAdapter",
                    "interfaceName": "QueueAdapterIface",
                    "classFullName": "org.cricketmsf.microsite.out.queue.QueueEmbededAdapter",
                    "properties": {
                        "helper-name": "queueDB",
                        "categories": "-",
                        "ignoring": "-"
                    }
                },
                "iotAdapter": {
                    "name": "iotAdapter",
                    "interfaceName": "ThingsDataIface",
                    "classFullName": "com.signomix.out.iot.ThingsDataEmbededAdapter",
                    "properties": {
                        "helper-name": "iotDB",
                        "helper-name2": "iotDataDB"
                    }
                },
                "dashboardAdapter": {
                    "name": "dashboardAdapter",
                    "interfaceName": "DashboardIface",
                    "classFullName": "com.signomix.out.gui.DashboardEmbededAdapter",
                    "properties": {
                        "helper-name": "iotDB",
                        "helper-name2": "userAdapter"
                    }
                },
                "scriptingAdapter": {
                    "name": "scriptingAdapter",
                    "interfaceName": "ScriptingAdapterIface",
                    "classFullName": "com.signomix.out.script.NashornScriptingAdapter",
                    "properties": {
                        "script-file": "./config/device-script-template.js",
                        "decoder-envelope-location": "./config/payload-decoder-envelope.js",
                        "helper-name": "iotAdapter"
                    }
                },
                "actuatorAdapter": {
                    "name": "actuatorAdapter",
                    "interfaceName": "ActuatorDataIface",
                    "classFullName": "com.signomix.out.iot.ActuatorDataEmbededAdapter",
                    "properties": {
                        "helper-name": "actuatorCommandsDB"
                    }
                },
                "smtpNotification": {
                    "name": "smtpNotification",
                    "interfaceName": "NotificationIface",
                    "classFullName": "com.signomix.out.notification.SmtpNotificator",
                    "properties": {
                        "from": "name@host",
                        "mailhost": "",
                        "user": "name@host",
                        "password": "mypassword",
                        "debug-session": "false"
                    }
                },
                "smtpNotification2": {
                    "name": "smtpNotification2",
                    "interfaceName": "NotificationIface",
                    "classFullName": "com.signomix.out.notification.SmtpNotificator",
                    "properties": {
                        "from": "name@host",
                        "mailhost": "",
                        "user": "name@host",
                        "password": "mypassword",
                        "starttls": "true",
                        "debug-session": "false"
                    }
                },
                "pushoverNotification": {
                    "name": "pushoverNotification",
                    "interfaceName": "NotificationIface",
                    "classFullName": "com.signomix.out.notification.PushoverNotificator",
                    "properties": {
                        "url": "https://api.pushover.net/1/messages.json",
                        "token": "pushovertoken",
                        "ignore-certificate-check": "true"
                    }
                },
                "slackNotification": {
                    "name": "slackNotification",
                    "interfaceName": "NotificationIface",
                    "classFullName": "com.signomix.out.notification.SlackNotificator",
                    "properties": {
                        "url": "https://hooks.slack.com/services/",
                        "ignore-certificate-check":"true"
                    }
                },
                "emailSender": {
                    "name": "emailSender",
                    "interfaceName": "EmailSenderIface",
                    "classFullName": "com.signomix.out.notification.SmtpSender",
                    "properties": {
                        "from": "name@host",
                        "mailhost": "",
                        "user": "name@host",
                        "password": "mypassword",
                        "starttls": "false",
                        "debug-session": "false"
                    }
                },
                "virtualStack": {
                    "name": "virtualStack",
                    "interfaceName": "VirtualStackIface",
                    "classFullName": "com.signomix.out.iot.VirtualStack",
                    "properties": {
                        "write-interval": ""
                    }
                }
            }
        }
    ]
}
